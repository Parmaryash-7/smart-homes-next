!function(){"use strict";function z(t){return angular.isUndefined(t)||null===t}function t(T,t){if(void 0===t){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");t=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return T.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(w,v,F,$){return function(t,i,e){function u(){var t;return m||($.serverTime?(t=(new Date).getTime()-p+$.serverTime,v(t)):v())}function n(){f&&(w.clearTimeout(f),f=null)}function r(t){D&&i.attr("datetime",t)}function o(){var t;n(),a&&(function t(e){var n,r,o=u().diff(e,g),a=c&&c<=o;a?i.text(e.format(d)):i.text(e.from(u(),l)),s&&M&&i.attr("title",e.format(s)),a||(r=3600,(n=Math.abs(u().diff(e,"minute")))<1?r=1:n<60?r=30:n<180&&(r=300),f=w.setTimeout(function(){t(e)},1e3*r))}(t=F.preprocessDate(a)),r(t.toISOString()))}var a,m,f=null,l=$.withoutSuffix,s=$.titleFormat,c=$.fullDateThreshold,d=$.fullDateFormat,g=$.fullDateThresholdUnit,p=(new Date).getTime(),h=e.amTimeAgo,D="TIME"===i[0].nodeName.toUpperCase(),M=!i.attr("title");t.$watch(h,function(t){return z(t)||""===t?(n(),void(a&&(i.text(""),r(""),a=null))):(a=t,void o())}),T.isDefined(e.amFrom)&&t.$watch(e.amFrom,function(t){m=z(t)||""===t?null:v(t),o()}),T.isDefined(e.amWithoutSuffix)&&t.$watch(e.amWithoutSuffix,function(t){"boolean"==typeof t?(l=t,o()):l=$.withoutSuffix}),e.$observe("amFullDateThreshold",function(t){c=t,o()}),e.$observe("amFullDateFormat",function(t){d=t,o()}),e.$observe("amFullDateThresholdUnit",function(t){g=t,o()}),t.$on("$destroy",function(){n()}),t.$on("amMoment:localeChanged",function(){o()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(r,o,e,n){var a=null;this.changeLocale=function(t,e){var n=r.locale(t,e);return T.isDefined(t)&&o.$broadcast("amMoment:localeChanged"),n},this.changeTimezone=function(t){r.tz&&r.tz.setDefault?(r.tz.setDefault(t),o.$broadcast("amMoment:timezoneChanged")):e.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),n.timezone=t,a=t},this.preprocessDate=function(t){return a!==n.timezone&&this.changeTimezone(n.timezone),n.preprocess?n.preprocess(t):r(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(n){return function(t,e){return n(t,e)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){return function(t,e){return n.preprocessDate(t).utcOffset(e)}}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(r,t,o){return function(t,e){var n=r.preprocessDate(t);return e?n.tz?n.tz(e):(o.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),n):n}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,o,e){function n(t,e,n){if(z(t))return"";var r=o.preprocessDate(t);return r.isValid()?r.calendar(e,n):""}return n.$stateful=e.statefulFilters,n}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(i,u,t){function e(t,e,n,r){if(z(t))return"";var o=u.preprocessDate(t),a=z(e)?i():u.preprocessDate(e);return o.isValid()&&a.isValid()?o.diff(a,n,r):""}return e.$stateful=t.statefulFilters,e}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,r,e){function n(t,e){if(z(t))return"";var n=r.preprocessDate(t);return n.isValid()?n.format(e):""}return n.$stateful=e.statefulFilters,n}]).filter("amDurationFormat",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return z(t)?"":r.duration(t,e).humanize(n)}return e.$stateful=t.statefulFilters,e}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,i,t){function e(t,e,n){var r,o;return z(t)?"":(t=i.preprocessDate(t),(r=a(t)).isValid()?(o=a(n),!z(n)&&o.isValid()?r.from(o,e):r.fromNow(e)):"")}return e.$stateful=t.statefulFilters,e}]).filter("amSubtract",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return z(t)?"":r(t).subtract(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amAdd",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return z(t)?"":r(t).add(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amStartOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return z(t)?"":n(t).startOf(e)}return e.$stateful=t.statefulFilters,e}]).filter("amEndOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return z(t)?"":n(t).endOf(e)}return e.$stateful=t.statefulFilters,e}]),"angularMoment"}var e=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!e?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global?global:window).moment)}();